<!DOCTYPE html>
<html lang="zh-CN">





<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/img/favicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="keenJMS">
  <meta name="keywords" content="">
  <title>matplotlib - keenJMS&#39;BLOG</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />
<link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/github-gist.min.css" />


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_fmb4a04yx8h.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_pjno9b9zyxs.css">




<link  rel="stylesheet" href="/css/main.css" />

<!-- 自定义样式保持在最底部 -->


<meta name="generator" content="Hexo 4.2.1"></head>

<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/">&nbsp;<strong>Blog</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/">
              <i class="iconfont icon-home-fill"></i>
              首页</a>
          </li>
        
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/archives/">
              <i class="iconfont icon-archive-fill"></i>
              归档</a>
          </li>
        
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/categories/">
              <i class="iconfont icon-category-fill"></i>
              分类</a>
          </li>
        
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/tags/">
              <i class="iconfont icon-tags-fill"></i>
              标签</a>
          </li>
        
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="/about/">
              <i class="iconfont icon-user-fill"></i>
              关于</a>
          </li>
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="view intro-2" id="background" parallax=true
         style="background: url('/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container text-center white-text fadeInUp">
            <span class="h2" id="subtitle">
              
            </span>

            
              
                <div class="mt-3 post-meta">
                  <i class="iconfont icon-date-fill" aria-hidden="true"></i>
                  <time datetime="2020-05-28 10:03">
                    2020年5月28日 上午
                  </time>
                </div>
              

              <div class="mt-1">
                
                  
                  <span class="post-meta mr-2">
                    <i class="iconfont icon-chart"></i>
                    1.7k 字
                  </span>
                

                
                  
                  <span class="post-meta mr-2">
                      <i class="iconfont icon-clock-fill"></i>
                    
                    
                    27
                     分钟
                  </span>
                

                
              </div>
            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <div class="post-content mx-auto" id="post">
            
            <article class="markdown-body">
              <h1 id="导入matplotlib"><a href="#导入matplotlib" class="headerlink" title="导入matplotlib"></a>导入matplotlib</h1><pre><code>import matplotlib.pyplot as plt
import matplotlib as mpl</code></pre><p>&emsp;&emsp;Matplotlib是Python的绘图库，其中的pyplot包封装了很多画图的函数。<a href="https://matplotlib.org/api/pyplot_summary.html" target="_blank" rel="noopener">Matplotlib.pyplot</a>包含一系列类似 MATLAB 中绘图函数的相关函数每个pyplot函数对一幅图片(figure)做一些改动：比如创建新图片，在图片创建一个新的作图区域(plotting area)，在一个作图区域内画直线，给图添加标签(label)等。matplotlib.pyplot是有状态的，亦即它会保存当前图片和作图区域的状态，新的作图函数会作用在当前图片的状态基础之上。 </p>
<h1 id="打开-关闭交互模式"><a href="#打开-关闭交互模式" class="headerlink" title="打开/关闭交互模式"></a>打开/关闭交互模式</h1><pre><code>plt.ion()
plt.ioff()</code></pre><p>&emsp;&emsp;matplotlib的显示模式默认为阻塞（block）模式，打开交互模式后，执行plt.show（）程序会接着往下执行，可以显示多个窗口。但在show()之前一定要使用plt.ioff()，否则图片会一闪而过。在交互模式下，plt.plot(x)或plt.imshow(x)是直接出图像，不需要plt.show()  </p>
<h1 id="定义画布"><a href="#定义画布" class="headerlink" title="定义画布"></a>定义画布</h1><pre><code>plt.figure(num=None, figsize=None, dpi=None, facecolor=None, edgecolor=None, frameon=True)</code></pre><p>num:图像编号或名称，数字为编号 ，字符串为名称<br>figsize:指定figure的宽和高，单位为英寸；<br>dpi参数指定绘图对象的分辨率，即每英寸多少个像素，缺省值为80<br>1英寸等于2.5cm,A4纸是 21*30cm的纸张<br>facecolor:背景颜色<br>edgecolor:边框颜色<br>frameon:是否显示边框 </p>
<h1 id="画图并显示"><a href="#画图并显示" class="headerlink" title="画图并显示"></a>画图并显示</h1><pre><code>import matplotlib.pyplot as plt
import numpy as np
pic=plt.figure(&apos;ex_1&apos;,figsize=(16,9),dpi=480,facecolor=&apos;red&apos;,edgecolor=&apos;blue&apos;)
x = np.linspace(-10, 10, 500)
y1=x*x
y2=2*x+1
plt.plot(x,y1)
plt.plot(x,y2)    
plt.savefig(&apos;ex_1.png&apos;)
plt.show()</code></pre><p>plt.plot(自变量，因变量)将图表示出来，plt.savefig(‘文件名’)在plt.show()之前，否则保存的图是空白,plt.show()显示出来。<br><img src="/img/plt_learning/ex_1.png" srcset="/img/loading.gif" alt="">  </p>
<pre><code>plt.plot(x, y2, color = &apos;black&apos;, linewidth = 2.0, linestyle = &apos;--&apos;)</code></pre><p>可将y2改成虚线</p>
<h1 id="绘制子图"><a href="#绘制子图" class="headerlink" title="绘制子图"></a>绘制子图</h1><pre><code>plt.subplots(nrows=1, ncols=1, sharex=False, sharey=False, squeeze=True,
         subplot_kw=None, gridspec_kw=None, **fig_kw):</code></pre><p>参数：  </p>
<pre><code>Parameters
----------
nrows, ncols : int, optional, default: 1
    子图网格的行列数.

sharex, sharey : bool or {&apos;none&apos;, &apos;all&apos;, &apos;row&apos;, &apos;col&apos;}, default: False
    Controls sharing of properties among x (`sharex`) or y (`sharey`)
    axes:

    - True or &apos;all&apos;: x- or y-axis will be shared among all subplots.
    - False or &apos;none&apos;: each subplot x- or y-axis will be independent.
    - &apos;row&apos;: each subplot row will share an x- or y-axis.
    - &apos;col&apos;: each subplot column will share an x- or y-axis.

    When subplots have a shared x-axis along a column, only the x tick
    labels of the bottom subplot are created. Similarly, when subplots
    have a shared y-axis along a row, only the y tick labels of the first
    column subplot are created. To later turn other subplots&apos; ticklabels
    on, use `~matplotlib.axes.Axes.tick_params`.

squeeze : bool, optional, default: True
    - If True, extra dimensions are squeezed out from the returned
      array of `~matplotlib.axes.Axes`:

      - if only one subplot is constructed (nrows=ncols=1), the
        resulting single Axes object is returned as a scalar.
      - for Nx1 or 1xM subplots, the returned object is a 1D numpy
        object array of Axes objects.
      - for NxM, subplots with N&gt;1 and M&gt;1 are returned as a 2D array.

    - If False, no squeezing at all is done: the returned Axes object is
      always a 2D array containing Axes instances, even if it ends up
      being 1x1.

num : int or str, optional, default: None
    A `.pyplot.figure` keyword that sets the figure number or label.

subplot_kw : dict, optional
    Dict with keywords passed to the
    `~matplotlib.figure.Figure.add_subplot` call used to create each
    subplot.

gridspec_kw : dict, optional
    Dict with keywords passed to the `~matplotlib.gridspec.GridSpec`
    constructor used to create the grid the subplots are placed on.

**fig_kw
    All additional keyword arguments are passed to the
    `.pyplot.figure` call.</code></pre><p>返回：<br>参数1：figure<br>参数2：axes对象  </p>
<pre><code>fig, (ax1, ax2) = plt.subplot(1, 2)
fig, ((ax1, ax2), (ax3, ax4)) = plt.subplot(2, 2)</code></pre><p>示例1（定义子图然后通过返回的axes操作）：</p>
<pre><code>import numpy as np
import matplotlib.pyplot as plt    
x = np.linspace(-10, 10, 500)
#划分子图
fig,axes=plt.subplots(2,2,sharex=&apos;row&apos;)
ax1=axes[0,0]
ax2=axes[0,1]
ax3=axes[1,0]
ax4=axes[1,1]
#作图1
ax1.plot(x, x)
#作图2
ax2.plot(x, -x)
#作图3
ax3.plot(x, x ** 2)
ax3.grid(color=&apos;r&apos;, linestyle=&apos;--&apos;, linewidth=1,alpha=0.3)
#作图4
ax4.plot(x, np.log(np.abs(x)))
plt.show()</code></pre><p><img src="/img/plt_learning/ex_subplot.png" srcset="/img/loading.gif" alt=""><br>示例2（定义画布再添加子图）：</p>
<pre><code>import matplotlib.pyplot as plt
import numpy as np
fig=plt.figure()
x=np.linspace(-10, 10, 500)
ax1=fig.add_subplot(3,3,1)
ax1.plot(x, x*x)
ax2=fig.add_subplot(3,3,3)
ax2.plot(x,np.sin(x))
ax3=fig.add_subplot(3,3,5)
ax3.plot(x,np.arctan(x))
ax4=fig.add_subplot(3,3,9)
ax4.plot(x,np.cos(x))
plt.savefig(&apos;object_figure&apos;)
plt.show()  </code></pre><p><img src="/img/plt_learning/object_figure.png" srcset="/img/loading.gif" alt=""><br>示例3（子图嵌套） </p>
<pre><code>import numpy as np
import matplotlib.pyplot as plt
#新建figure
fig = plt.figure()
# 定义数据
x = np.linspace(-10,10,500)
y=2*x*2*x
z =2*x
#新建区域ax1
#figure的百分比,从figure 10%的位置开始绘制, 宽高是figure的80%
left, bottom, width, height = 0.1, 0.1, 0.8, 0.8
# 获得绘制的句柄
ax1 = fig.add_axes([left, bottom, width, height])
ax1.plot(x, y, &apos;r&apos;)
ax1.set_title(&apos;4x^2&apos;)
#新增区域ax2,嵌套在ax1内
left, bottom, width, height = 0.35 ,0.6, 0.25, 0.25
# 获得绘制的句柄
ax2 = fig.add_axes([left, bottom, width, height])
ax2.plot(x,z, &apos;b&apos;)
ax2.set_title(&apos;2x&apos;)
plt.show()</code></pre><p><img src="/img/plt_learning/insert.png" srcset="/img/loading.gif" alt=""></p>
<h1 id="读写图片"><a href="#读写图片" class="headerlink" title="读写图片"></a>读写图片</h1><pre><code>plt.imread(&apos;文件名&apos;)
plt.imsave(&apos;文件名&apos;)</code></pre><h1 id="plt-imshow-与plt-show"><a href="#plt-imshow-与plt-show" class="headerlink" title="plt.imshow()与plt.show()"></a>plt.imshow()与plt.show()</h1><p>plt.imshow()函数负责对图像进行处理，并显示其格式，而plt.show()则是将plt.imshow()处理后的函数显示出来。在plt.scatter()前加入plt.imshow(‘img’)可对img的图描上散点。  </p>
<h1 id="画散点图、等高线图和3d图"><a href="#画散点图、等高线图和3d图" class="headerlink" title="画散点图、等高线图和3d图"></a>画散点图、等高线图和3d图</h1><p><strong>散点图</strong>  </p>
<pre><code>pic=plt.figure(&apos;scatter and regression&apos;)
plt.scatter(X[:,1],y)
plt.plot(X[:,1],np.dot(X,theta),color=&apos;red&apos;)
plt.xlabel(&apos;X&apos;)
plt.ylabel(&apos;y&apos;)
plt.show()</code></pre><p>使用scatter函数，效果如图<br><img src="/img/plt_learning/scatter.jpg" srcset="/img/loading.gif" alt=""><br><strong>等高线图</strong><br>plt.contourf(x,y,f(x,y))，其中x，y是np.meshgrid的返回值，代表网格的坐标，f函数为求他们的高,x,y,f都是同维度的   </p>
<pre><code>n=100
theta0 = np.linspace(-10, 10, n)
theta1 = np.linspace(-1, 4, n)
# 把x,y数据生成mesh网格状的数据，因为等高线的显示是在网格的基础上添加上高度值
T0, T1 = np.meshgrid(theta0, theta1)#T0,T1都是1000x1000
# # 填充等高线
# plt.contourf(T0, T1, f(T0,T1), 40)
# 添加等高线
C = plt.contour(T0, T1, self.f(T0,T1), 40)
plt.clabel(C, inline=True, fontsize=12)
# 显示图表
plt.show()</code></pre><p>效果如图<br><img src="/img/plt_learning/contourf.jpg" srcset="/img/loading.gif" alt=""><br><strong>3d图</strong>  </p>
<pre><code>n=500
theta0 = np.linspace(-10, 10, n)
theta1 = np.linspace(-4, 4, n)
# 把x,y数据生成mesh网格状的数据，因为等高线的显示是在网格的基础上添加上高度值
T0, T1 = np.meshgrid(theta0, theta1)#T0,T1都是1000x1000
loss= self.f(T0,T1)
fig4 = plt.figure()
ax4 = plt.axes(projection=&apos;3d&apos;)
# 作图offset用来调投影平面的位置
ax4.plot_surface(T0, T1, loss, alpha=0.3, cmap=&apos;winter&apos;)  # 生成表面， alpha 用于控制透明度
ax4.contour(T0, T1, loss, zdir=&apos;z&apos;, offset=0, cmap=&quot;cool&quot;)  # 生成z方向投影，投到x-y平面
ax4.contour(T0, T1, loss, zdir=&apos;x&apos;, offset=-20, cmap=&quot;rainbow&quot;)  # 生成x方向投影，投到y-z平面
ax4.contour(T0, T1, loss, zdir=&apos;y&apos;, offset=6, cmap=&quot;rainbow&quot;)  # 生成y方向投影，投到x-z平面
# 设定显示范围
ax4.set_xlabel(&apos;theta0&apos;)
ax4.set_xlim(-20, 20)  # 拉开坐标轴范围显示投影
ax4.set_ylabel(&apos;theta1&apos;)
ax4.set_ylim(-6, 6)
ax4.set_zlabel(&apos;loss&apos;)
ax4.set_zlim(0, 400)
plt.show()</code></pre><p>效果如图<br><img src="/img/plt_learning/3d.jpg" srcset="/img/loading.gif" alt=""> </p>

            </article>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/categories/development/">development</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/tags/python%E5%BA%93/">python库</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">本博客所有文章除特别声明外，均采用 <a href="https://zh.wikipedia.org/wiki/Wikipedia:CC_BY-SA_3.0%E5%8D%8F%E8%AE%AE%E6%96%87%E6%9C%AC" target="_blank" rel="nofollow noopener noopener">CC BY-SA 3.0协议</a> 。转载请注明出处！</p>
              
              
                <div class="post-prevnext row">
                  <div class="post-prev col-6">
                    
                    
                      <a href="/2020/05/28/pandas/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">pandas</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </div>
                  <div class="post-next col-6">
                    
                    
                      <a href="/2020/05/26/pytorch%E7%9A%84forward/">
                        <span class="hidden-mobile">pytorch入门</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </div>
                </div>
              
            </div>

            
              <!-- Comments -->
              <div class="comments" id="comments">
                
                
  <script defer src="https://utteranc.es/client.js"
          repo="keenJMS/commit-utterances"
          issue-term="pathname"
  
          label="utterances"
    
          theme="github-dark-orange"
          crossorigin="anonymous"
  >
  </script>


              </div>
            
          </div>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    
  <div>
    
      <!-- 不蒜子统计PV -->
      
      <span id="busuanzi_container_site_pv" style="display: none">
      总访问量 <span id="busuanzi_value_site_pv"></span> 次
    </span>
    
    
      <!-- 不蒜子统计UV -->
      
      <span id="busuanzi_container_site_uv" style="display: none">
      总访客数 <span id="busuanzi_value_site_uv"></span> 人
    </span>
    
  </div>


    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/js/main.js" ></script>


  <script  src="/js/lazyload.js" ></script>



  
  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: '.post-content',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>





  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/js/clipboard-use.js" ></script>



  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>




<!-- Plugins -->



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    var typed = new Typed('#subtitle', {
      strings: [
        '  ',
        "matplotlib&nbsp;",
      ],
      cursorChar: "_",
      typeSpeed: 70,
      loop: false,
    });
    typed.stop();
    $(document).ready(function () {
      $(".typed-cursor").addClass("h2");
      typed.start();
    });
  </script>



  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/js/local-search.js" ></script>
  <script>
    var path = "/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>


















</body>
</html>
<iframe frameborder="no" border="0" marginwidth="0" marginheight="0" width=330 height=86 src="//music.163.com/outchain/player?type=2&id=26875197&auto=0&height=66"></iframe>
